<script src="/javascript/new_post.js"></script>
<script src="/javascript/form_validator.js"></script>

<div class="section-header">New Post</div>
<form id="new-post" action="/new_blog_post" method="post" class="post-form">
  <div>
    <label for="title">Title</label>
    <input type="text" id="title" name="title" placeholder="New Post" maxlength=255 onblur="validate(this);" required unique>
    <label id="title-error" class="error" for="title">Unchecked</label>
  </div>
  <div>
    <label for="slug">Slug</label>
    <input type="text" id="slug" name="slug" placeholder="post_slug" maxlength=255 onblur="validate(this);" required unique regexp="^[A-Za-z0-9]+(?:[A-Za-z0-9_-]+[A-Za-z0-9]){0,255}$">
    <label id="slug-error" class="error" for="slug">Unchecked</label>
  </div>
  <div>
    <label for="category">Category</label>
    <input list="categories" id="category" name="category" placeholder="Misc" maxlength=255 onblur="validate(this);" required>
    <datalist id="categories">
      <% categories.each do |category| %>
      <option value="<%= category %>">
      <% end %>
    </datalist>
    <label id="category-error" class="error" for="categories">Unchecked</label>
  </div>
  <div>
    <label for="desc">Description</label>
    <textarea type="text" id="desc" name="desc" placeholder="Lorem ipsum" maxlength=255 onblur="validate(this);" required></textarea>
    <label id="desc-error" class="error" for="desc">Unchecked</label>
  </div>
  <div>
    <label for="body">Body</label>
    <textarea type="text" id="body" name="body" placeholder="Lorem ipsum" maxlength=65535 onblur="validate(this);" required></textarea>
    <label id="body-error" class="error" for="body">Unchecked</label>
    <input type="file" id="body-uploader">
  </div>

  <input type="submit" id="submit" value="Submit" disabled>

</form>